# Write Tests

Write comprehensive tests for this code:

1. **Happy path**: Normal usage works
2. **Edge cases**: Empty inputs, nulls, boundaries
3. **Error cases**: What should fail and how
4. **Integration**: Does it work with real dependencies?

Requirements:
- Use the project's existing test framework
- Follow existing test patterns/naming conventions
- Mock external dependencies appropriately
- Aim for >80% coverage on the target code
- Include setup/teardown if needed

Output the complete test file, ready to run.
